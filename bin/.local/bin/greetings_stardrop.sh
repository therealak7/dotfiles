#!/usr/bin/env bash

stardrop=$(printf "\e[49m \e[38;2;34;250;148;49m▄\e[38;2;60;185;191;48;2;1;9;46m▄\e[38;2;42;129;142;48;2;1;14;46m▄\e[38;2;41;84;78;49m▄\e[38;2;42;10;132;49m▄\e[38;2;41;84;78;49m▄\e[38;2;42;129;142;48;2;1;14;46m▄\e[38;2;60;185;191;48;2;2;9;46m▄\e[38;2;33;250;148;49m▄\e[49m \e[m
\e[49m \e[38;2;36;80;76;48;2;27;252;151m▄\e[49;38;2;39;81;77m▀\e[38;2;73;39;131;48;2;3;19;50m▄\e[38;2;109;26;206;48;2;41;8;132m▄\e[38;2;186;88;153;48;2;127;30;226m▄\e[38;2;109;26;207;48;2;44;9;135m▄\e[38;2;72;37;131;48;2;3;19;50m▄\e[49;38;2;39;81;77m▀\e[38;2;36;76;76;48;2;27;252;151m▄\e[49m \e[m
\e[49m \e[38;2;81;19;174;49m▄\e[38;2;130;56;165;49m▄\e[38;2;214;122;105;48;2;41;9;130m▄\e[38;2;173;66;211;48;2;219;103;195m▄\e[38;2;85;20;179;48;2;128;31;226m▄\e[38;2;173;66;211;48;2;255;161;38m▄\e[38;2;166;67;193;48;2;41;9;130m▄\e[38;2;130;56;165;49m▄\e[38;2;81;19;174;49m▄\e[49m \e[m
\e[49m \e[49;38;2;40;8;131m▀\e[38;2;41;9;132;48;2;128;31;225m▄\e[38;2;169;64;205;48;2;129;32;226m▄\e[38;2;206;92;200;48;2;40;9;130m▄\e[38;2;68;24;141;49m▄\e[38;2;205;92;200;48;2;40;9;130m▄\e[38;2;164;60;208;48;2;129;32;225m▄\e[38;2;41;9;132;48;2;128;31;225m▄\e[49;38;2;40;8;131m▀\e[49m \e[m
\e[49m \e[38;2;133;32;231;48;2;54;21;132m▄\e[38;2;224;107;194;48;2;127;28;232m▄\e[38;2;148;45;223;48;2;226;115;161m▄\e[38;2;43;11;131;48;2;128;31;226m▄\e[49;38;2;37;7;130m▀\e[38;2;44;12;131;48;2;129;31;227m▄\e[38;2;143;41;225;48;2;224;111;172m▄\e[38;2;255;165;31;48;2;126;27;233m▄\e[38;2;220;104;195;48;2;53;20;132m▄\e[49m \e[m
\e[49m \e[49;38;2;39;9;128m▀\e[49;38;2;38;9;128m▀\e[49;38;2;40;8;129m▀\e[49m   \e[49;38;2;37;5;130m▀\e[49;38;2;38;9;128m▀\e[49;38;2;39;9;128m▀\e[49m \e[m
";)
name=$(figlet -d /usr/share/figlet/fonts -f ANSIShadow "zexy" | lolcat --force-color)


# inspiration code from stackoverflow
#{ echo "$name"; echo 'EOF';  echo "$stardrop6"; } | awk 'NF==1&&$1=="EOF" {noskip=1; next; } noskip==0 { f[++c]=$0; next; } { printf "%s%s\n",f[++k],$0;}'
if command -v figlet &> /dev/null ; then
    echo "Figlet not installed....installing Figlet"
    source ./install_program.sh figlet
fi

term_width=$(/usr/bin/tput cols)

if [[ "$term_width" -ge 100 ]]
then
    {
        echo "$stardrop"
        echo EOF1
        echo "$stardrop"
        echo EOF2
        echo "$name"
        echo EOF3
        echo "$stardrop"
        echo EOF4
        echo "$stardrop"
    } | awk '
/^EOF1$/ { section=1; next }
/^EOF2$/ { section=2; next }
/^EOF3$/ { section=3; next }
/^EOF4$/ { section=4; next }

section==0 { a[++i]=$0; next }
section==1 { b[++j]=$0; next }
section==2 { c[++k]=$0; next }
section==3 { d[++l]=$0; next }

{ printf "%-40s %-40s \t %-40s \t   %-40s %-40s\n", a[++x], b[++y], c[++z], d[++w], $0 }
'
else
    figlet -c -d /usr/share/figlet/fonts -f ANSIShadow "zexy" | lolcat --force-color
fi
tput sgr0
